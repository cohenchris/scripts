#!/bin/sh

# This is a wrapper script for lf which ensures the cache directory is created.
# Also, if sourced, lf will cd to the last working directory.
# If not sourced, lf will behave normally.

set -e

[ ! -d "${XDG_CACHE_HOME}/lf" ] && mkdir -p "${XDG_CACHE_HOME}/lf"
cd "$(command lf -print-last-dir "$@")"
